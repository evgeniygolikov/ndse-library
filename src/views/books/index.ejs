<%- extend('../partials/layout') %>

<%- include('../partials/menu', {links}) %>

<div class="jumbotron jumbotron-fluid">
    <div class="container">
        <h1 class="display-4"><%= title %></h1>
    </div>
</div>

<a class="btn btn-sm btn-primary" href="books/create">Добавить книгу</a>

<% if (books.length > 0) { %>
    <table class="table table-striped table-sm mt-4 mb-4">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Название</th>
                <th scope="col"></th>
            </tr>
        </thead>

        <tbody>
            <% books.forEach((book, index) => { %>
                <tr>
                    <td><%= index + 1 %></td>
                    <td><%= book.title %></td>
                    <td class="text-right">
                        <a class="btn btn-sm btn-success" href="/books/<%= book.id %>">
                            <i class="fa fa-eye" aria-hidden="true"></i>
                        </a>

                        <a class="btn btn-sm btn-primary" href="/books/<%= book.id %>/update">
                            <i class="fa fa-pencil" aria-hidden="true"></i>
                        </a>

                        <a class="btn btn-sm btn-primary" href="/books/<%= book.id %>/download">
                            <i class="fa fa-download" aria-hidden="true"></i>
                        </a>

                        <form class="d-inline" action="/books/<%= book.id %>/delete" method="POST">
                            <button class="btn btn-sm btn-danger">
                                <i class="fa fa-trash" aria-hidden="true"></i>
                            </button>
                        </form>
                    </td>
                </tr>
            <% }) %>
        </tbody>
    </table>
<% } else { %>
    <h3 class="mt-5">Здесь пока нет ни одной книги</h3>
<% } %>
